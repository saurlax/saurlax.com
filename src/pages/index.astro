---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import dayjs from "dayjs";

const blogEntries = await getCollection("blog");
---

<Layout>
  <h1 class="m-10 text-2xl font-bold text-center">Saurlax</h1>

  <div class="m-5 text-center">ğŸ—ï¸æœ¬ç«™æ­£åœ¨è¿ç§»åˆ° Astroï¼ŒåŠªåŠ›æ–½å·¥ä¸­ğŸ”¨</div>

  <div class="gap-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
    {
      blogEntries
        .sort((a, b) => {
          return b.data.date.getTime() - a.data.date.getTime();
        })
        .slice(0, 10)
        .map((entry) => (
          <Card
            title={entry.data.title}
            description={dayjs(entry.data.date).format("YYYY/MM/DD")}
            tags={entry.data.tags}
            href={`/blog/${entry.slug}`}
          />
        ))
    }
  </div>
  <p class="text-center mt-4">
    <a href="/blog">
      <button class="text-center py-2 px-4 border border-blue rounded">
        æŸ¥çœ‹æ›´å¤š
      </button>
    </a>
  </p>
</Layout>
