---
import { getCollection } from "astro:content";
import ListLayout from "../../layouts/ListLayout.astro";
import Card from "../../components/Card.astro";
import dayjs from "dayjs";

const blogEntries = await getCollection("blog");
---

<ListLayout title="Blog">
  {
    blogEntries
      .sort((a, b) => {
        return b.data.date.getTime() - a.data.date.getTime();
      })
      .map((entry) => (
        <Card
          title={entry.data.title}
          description={dayjs(entry.data.date).format("YYYY/MM/DD")}
          tags={entry.data.tags}
          href={`/blog/${entry.slug}`}
        />
      ))
  }
</ListLayout>
